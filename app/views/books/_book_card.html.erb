<div class="max-w-sm rounded overflow-hidden shadow-lg bg-white">
    <%# Book Cover Url Placeholder - Replace with actual book cover URL if available %>
    <img class="w-full" src="<%= book.cover_url || 'https://picsum.photos/200/300' %>" alt="<%= book.title %> cover">

    <div class="px-6 py-4">
        <div class="font-bold text-xl mb-1"><%= book.title %></div>
        <div class="text-gray-600 text-sm mb-2"><%= book.author.name %> <%= book.author.surname %></div>
    </div>

    <div class="px-6 pb-4 flex items-center justify-between">   
        <%# Star Rating System %>       
        <div class="flex items-center">        
            <% full_stars = (book.rating.to_f / 2).floor %>
            <% half_star = (book.rating.to_f % 2 >= 1) ? true : false %>

            <% 5.times do |i| %>
            <% if i < full_stars %>
                <svg class="w-5 h-5 text-yellow-400" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 22 20">
                <path d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"/>
                </svg>
            <% elsif half_star && i == full_stars %>
                <svg class="w-5 h-5 text-yellow-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 20">
                <defs>
                    <linearGradient id="half-star">
                    <stop offset="50%" stop-color="currentColor"/>
                    <stop offset="50%" stop-color="lightgray"/>
                    </linearGradient>
                </defs>
                <path fill="url(#half-star)" d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"/>
                </svg>
            <% else %>
                <svg class="w-5 h-5 text-gray-300" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 22 20">
                <path d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"/>
                </svg>
            <% end %>
            <% end %>
        </div>
        
        <%# Status Label - Bottom Right %>
        <% status_colors = { 'pending' => 'bg-yellow-200 text-yellow-800', 'reading' => 'bg-blue-200 text-blue-800', 'completed' => 'bg-green-200 text-green-800', 'abandoned' => 'bg-red-200 text-red-800' } %>
        <span class="inline-block rounded-full px-3 py-1 text-sm font-semibold <%= status_colors[book.status] || 'bg-gray-200 text-gray-800' %>">
        <%= book.status.capitalize %>
        </span>        
    </div> 
</div>
